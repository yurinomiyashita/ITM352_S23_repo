<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Golf Shoppe</title>
    <link id='xxx' href="./css/products-style1.css" rel="stylesheet">
    <script>
        var products = [
    {
        "name": "Callaway Women's REVA Golf Balls",
        "price": 24.99,
        "quantity_available":15,
        "image": "https://worldwidegolf.vtexassets.com/arquivos/ids/10289442-1200-auto?v=638085780209100000&width=1200&height=auto&aspect=true"    
    },
    {
        "name": "Callaway Women's ERC Soft Reva w/ Triple Track Golf Balls",
        "price": 39.99,
        "quantity_available":20,
        "image":"https://worldwidegolf.vtexassets.com/arquivos/ids/10292332-1200-auto?v=638085896623870000&width=1200&height=auto&aspect=true"     
    },
    {
        "name": "Callaway Supersoft Golf Balls",
        "price": 24.99,
        "quantity_available":15,
        "image":"https://worldwidegolf.vtexassets.com/arquivos/ids/10290332-1200-auto?v=638085812744430000&width=1200&height=auto&aspect=true"     
    },
    {
        "name": "Wilson Staff Model Golf Balls",
        "price": 49.99,
        "quantity_available":15,
        "image":"https://worldwidegolf.vtexassets.com/arquivos/ids/9778124-1200-auto?v=637904194169970000&width=1200&height=auto&aspect=true"     
    },
    {
        "name": "Titleist Pro V1 Golf Balls",
        "price": 55.99,
        "quantity_available":15,
        "image":"https://worldwidegolf.vtexassets.com/arquivos/ids/10349097-1200-auto?v=638102126614870000&width=1200&height=auto&aspect=true"     
    },
    {
        "name": "Titleist Pro V1x Golf Balls",
        "price": 54.99,
        "quantity_available":15,
        "image":"https://worldwidegolf.vtexassets.com/arquivos/ids/10287489-1200-auto?v=638085283277470000&width=1200&height=auto&aspect=true"     
    }
];
    
    </script>
    <script>
        //function to display purchase 
        //not being used 
      
    
        //any id is identifieyr and becomes variables 
        function checkQuantityTextbox(the_quantity_textbox) {
            var errors =isNonNegInt(the_quantity_textbox.value);
            purchase_button.disabled = true;          //onclick to call the checkquantitytextbox 
            if(errors.length==0){
                purchase_button.disabled = false;     
            }
            document.getElementById(the_quantity_textbox.id + "_message").innerHTML = errors.join(' ');
        }
    
    
        //check if it's nagative value or not 
        function isNonNegInt(q) {
            errors = []; // assume no errors at first
            if (Number(q) != q) errors.push('Not a number!'); // Check if string is a number value
            else {
                if (q < 0) errors.push('Negative value!'); // Check if it is non-negative
                if (parseInt(q) != q) errors.push('Not an integer!'); // Check that it is an integer
                window.stop() 
    
            }
            return errors;
        }
    </script>
    <!--laoding json file -->
    <script src="../products.js" type="text/json"></script>    <script></script>
    <h1>Golf Shoppe</h1>
    <p>GOLF balls are on sale!! </p>
</head>
<body>

    <form name="quantity_form"  action="./process_purchase" method="POST"></form>
    <main>
       
    <script>
        for (i=0; i<products.length; i++){
            document.write(` 
            <div class="polaroid"> 
            <img src="${products[i].image}"> 
            <div class="container">
            <h2> ${products[i].name}</h2>
            <p> $${products[i].price}</p>
            <label name="quantity_textbox"> Quantity</label>
            <span id='quantity_textbox_message'>
            <input type="text" placeholder =${products[i].quantity_available} name="quantity${i}" onkeyup="checkQuantityTextbox(this)"></input>
           </span>
            </div>
            </div>
            `);   
        }
        
    </script>
    <input disabled type="submit" value="purchase"  id="purchase_button" onclick="">
    </main>
    <script>
        //function to display purchase 
        //not being used 
      
    
        //any id is identifieyr and becomes variables 
        function checkQuantityTextbox(the_quantity_textbox) {
            var errors =isNonNegInt(the_quantity_textbox.value);
            purchase_button.disabled = true;          //onclick to call the checkquantitytextbox 
            if(errors.length==0){
                purchase_button.disabled = false;     
            }
            document.getElementById(the_quantity_textbox.id + "_message").innerHTML = errors.join(' ');
        }
    
    
        //check if it's nagative value or not 
        function isNonNegInt(q) {
            errors = []; // assume no errors at first
            if (Number(q) != q) errors.push('Not a number!'); // Check if string is a number value
            else {
                if (q < 0) errors.push('Negative value!'); // Check if it is non-negative
                if (parseInt(q) != q) errors.push('Not an integer!'); // Check that it is an integer
                window.stop() 
    
            }
            return errors;
        }
    </script>
</html>