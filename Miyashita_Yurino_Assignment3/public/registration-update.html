<!-- 
Yurino Miyashita 
This file is editing user information page to allow users to edit the password, 
this file can be access from invoice after they log in successfully
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registration</title>
  <!--load cascading style sheet-->
  <link rel="stylesheet" href="./css/login-style.css">
  <script>
    // taken from Example Assignment 1
    window.onload = function () { 
      let params = (new URL(document.location)).searchParams;
      if (params.has('quantity')) {
        let quantity = JSON.parse(params.get('quantity'));
        let quantity_str = '';
        for (elem in quantity) {
            quantity_str += quantity[elem] + '\n';
        }
      }
      if (params.has('errors')) {
        let errors = JSON.parse(params.get('errors'));
        let err_str = '';
        for (err in errors) {
          err_str += errors[err] + '\n';
        }
        alert(err_str);
      }
      let fullname = params.get('fullname');
      let email = params.get('email');
      document.getElementById("fullname").value = fullname;
      document.getElementById("currenteEmail").value = email;
    }
  </script>
</head>

<body> 

<div class="login-page">
  <div class="form">
    <form action="registration-update" method="POST">
      <input type="text" placeholder="name" id="fullname"  name="fullname"/>
      <input type="text" placeholder="current email" id="currenteEmail" name="currenteEmail"/>
      <input type="password" placeholder="current password" name="currentPassword" required />
      <input type="password" placeholder="new password" name="newPassword" required/>
      <input type="password" placeholder="confirm password" name="confirmPassword" required/>
      <center> 
        <input type="submit" value ="registrate-update" name="registrate-update" onlick="">
      </center>
      <!--go back to log in page  or go to invoice -->
    </form>

  </div>

</div>
</body>
</html>